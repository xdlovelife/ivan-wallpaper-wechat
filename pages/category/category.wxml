<scroll-view 
  class="container" 
  scroll-y 
  enable-back-to-top
  refresher-enabled="{{true}}"
  refresher-triggered="{{refreshing}}"
  bindrefresherrefresh="onPullDownRefresh"
>
  <!-- 标签栏 -->
  <view class="tabs">
    <view 
      class="tab-item {{activeTab === 'device' ? 'active' : ''}}" 
      data-type="device" 
      bindtap="onTabChange"
    >
      <text>设备</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'subject' ? 'active' : ''}}" 
      data-type="subject" 
      bindtap="onTabChange"
    >
      <text>主题</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'color' ? 'active' : ''}}" 
      data-type="color" 
      bindtap="onTabChange"
    >
      <text>颜色</text>
    </view>
  </view>

  <!-- 分类列表 -->
  <view class="category-list" wx:if="{{categories[activeTab].length > 0}}">
    <view 
      class="category-item" 
      wx:for="{{categories[activeTab]}}" 
      wx:key="id"
      data-id="{{item.id}}"
      data-type="{{item.type}}"
      data-name="{{item.name}}"
      bindtap="onCategoryTap"
      hover-class="category-item-hover"
    >
      <image 
        class="category-icon" 
        src="{{item.icon_url || '/assets/icons/default_category.png'}}" 
        mode="aspectFill"
      />
      <view class="category-info">
        <view class="category-name">{{item.name}}</view>
        <view class="category-count">{{item.count || 0}}张壁纸</view>
      </view>
      <view class="category-arrow"></view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty" wx:if="{{!loading && categories[activeTab].length === 0 && !error}}">
    <image class="empty-icon" src="/assets/icons/empty.png" />
    <text>暂无分类</text>
  </view>

  <!-- 错误状态 -->
  <view class="error" wx:if="{{error}}" bindtap="loadCategories" data-refresh="{{true}}">
    <image class="error-icon" src="/assets/icons/error.png" />
    <text>{{error}}</text>
    <text class="retry">点击重试</text>
  </view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading && !refreshing}}">
    <view class="loading-icon"></view>
    <text>加载中...</text>
  </view>
</scroll-view> 